<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca de Prompts | Google AI Studio</title>
    
    <!-- Bootstrap 5.3.0 CSS (Versión estándar sin bloqueo de integridad) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <!-- Fuentes Académicas -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-body: #ffffff;
            --bg-card: #f8f9fa;
            --text-main: #212529;
            --text-secondary: #495057;
            --primary: #0056b3; /* Azul Académico Profundo */
            --accent: #0d6efd;
            --border: #dee2e6;
            --code-bg: #f1f3f5;
            --code-text: #212529;
            --shadow: rgba(0,0,0,0.08);
        }

        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: 'Outfit', sans-serif;
            overflow-x: hidden;
        }

        /* HEADER HERO */
        .hero-section {
            background: white;
            border-bottom: 1px solid var(--border);
            padding: 4rem 1rem;
            margin-bottom: 3rem;
            text-align: center;
        }

        .hero-title {
            color: var(--primary);
            font-weight: 800;
            letter-spacing: -1px;
            margin-bottom: 1rem;
        }

        .hero-btn {
            background-color: var(--primary);
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s;
            box-shadow: 0 4px 6px rgba(0,86,179,0.2);
            display: inline-block; /* Fix para alineación */
        }
        .hero-btn:hover {
            background-color: #004494;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,86,179,0.3);
        }

        /* TARJETAS */
        .prompt-card {
            background: white;
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            height: 100%;
            transition: all 0.2s ease-in-out;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        .prompt-card:hover {
            border-color: var(--accent);
            box-shadow: 0 10px 30px var(--shadow);
            transform: translateY(-5px);
        }

        .prompt-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary);
        }

        .card-icon-wrapper {
            width: 50px;
            height: 50px;
            background-color: #e7f1ff;
            color: var(--primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .card-title {
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 0.5rem;
        }

        .card-desc {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            flex-grow: 1;
        }

        .config-tag {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-secondary);
            background: #f8f9fa;
            border: 1px solid var(--border);
            padding: 4px 10px;
            border-radius: 4px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        /* MODAL */
        .modal-content {
            border: none;
            border-radius: 16px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }
        .modal-header {
            border-bottom: 1px solid var(--border);
            background: #f8f9fa;
            border-radius: 16px 16px 0 0;
            padding: 1.5rem 2rem;
        }
        .modal-body {
            padding: 2rem;
        }

        /* ÁREA DE CÓDIGO */
        .code-block-wrapper {
            border: 1px solid #ced4da;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 2rem;
            background: white;
        }

        .code-header {
            background: #e9ecef;
            padding: 10px 20px;
            border-bottom: 1px solid #ced4da;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .code-label {
            font-weight: 700;
            font-size: 0.85rem;
            color: #495057;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .code-content {
            background-color: #ffffff;
            color: #000000;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            padding: 20px;
            white-space: pre-wrap;
            overflow-x: auto;
            max-height: 500px;
            overflow-y: auto;
            border-bottom: 4px solid #e9ecef;
        }

        .code-content::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }
        .code-content::-webkit-scrollbar-track {
            background: #f1f3f5;
        }
        .code-content::-webkit-scrollbar-thumb {
            background-color: #adb5bd;
            border-radius: 6px;
            border: 3px solid #f1f3f5;
        }

        .btn-copy {
            background-color: white;
            color: var(--primary);
            border: 1px solid var(--primary);
            font-weight: 600;
            font-size: 0.85rem;
            padding: 5px 15px;
            border-radius: 6px;
            transition: all 0.2s;
        }
        .btn-copy:hover {
            background-color: var(--primary);
            color: white;
        }

        /* FOOTER */
        footer {
            border-top: 1px solid var(--border);
            padding: 3rem 1rem;
            margin-top: 4rem;
            background: #f8f9fa;
            text-align: center;
        }
        
        .footer-text {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .footer-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }
    </style>
</head>
<body>

    <!-- HERO -->
    <section class="hero-section">
        <div class="container">
            <h1 class="hero-title display-4">Biblioteca de Prompts Académicos</h1>
            <p class="lead text-muted mb-4">Base de datos optimizada para <strong>Google AI Studio</strong></p>
            <a href="https://aistudio.google.com/" target="_blank" class="hero-btn">
                <i class="bi bi-rocket-takeoff-fill me-2"></i> Abrir Google AI Studio
            </a>
        </div>
    </section>

    <!-- GRID CONTENIDO -->
    <div class="container">
        <div id="grid-prompts" class="row g-4">
            <!-- SE LLENA CON JS -->
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <p class="footer-text fw-bold">Derechos reservados: Juan Carlos Solano Jiménez</p>
            <p class="footer-text">Universidad Nacional de Loja (UNL)</p>
            <p class="footer-text"><a href="mailto:juan.solano@unl.edu.ec" class="footer-link">juan.solano@unl.edu.ec</a> para contactos</p>
            <p class="footer-text mt-3 small text-muted">&copy; 2026</p>
        </div>
    </footer>

    <!-- MODALES CONTAINER -->
    <div id="modal-container"></div>

    <!-- BOOTSTRAP JS (Versión estándar) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // ==========================================
        // BASE DE DATOS DE PROMPTS
        // ==========================================
        const prompts = [
            {
                id: "articulo",
                title: "Artículo a partir de Tesis",
                cat: "Investigación",
                icon: "bi-file-text",
                desc: "Convierte tesis en artículos científicos listos para publicar (Normativa CEDAMAZ).",
                config: { model: "Gemini Pro", temp: "0.2", topp: "0.95" },
                system: `ROLL: Editor Científico Senior y Revisor de Pares de la revista CEDAMAZ.

OBJETIVO: Transformar una tesis de grado completa (input del usuario) en un Artículo Científico listo para publicar, siguiendo estrictamente la normativa CEDAMAZ.

DATOS DE ENTRADA: El usuario proporcionará una Tesis en PDF.

REGLAS DEL FORMATO DE SALIDA (Normativa CEDAMAZ):
1. ESTRUCTURA OBLIGATORIA:
   - Título (Español e Inglés, conciso, máx 15 palabras).
   - Resumen/Abstract (Máx 250 palabras, estructurado: Introducción, Objetivo, Metodología, Resultados, Conclusión).
   - Palabras Clave/Keywords (3-5 términos, usar tesauro UNESCO/IEEE).
   - Introducción (mínimo 1000 palabras. Estado del arte, justificación, objetivo): No resumas la tesis; transformala. Empieza con el problema global, baja al contexto local y termina con el objetivo. Usa el 'Estado del Arte' de la tesis para contrastar autores. Cita al menos 5 fuentes de la tesis aquí. Tono: Impersonal, directo, científico ('Se analizó', 'Se propone').
   - Materiales y Métodos (mínimo 2000 palabras, Reproducible, diseño, población, técnicas, análisis estadístico): Describe el diseño, población, muestra e instrumentos con detalle suficiente para que sea reproducible. Si hay fórmulas matemáticas en la tesis, pásalas a formato Markdown o texto limpio.
   - Resultados (mínimo 2000 palabras, Hallazgos claros. NO interpretar aquí, solo presentar): Presenta los hallazgos sin interpretarlos aún. Tablas: Si la tesis tiene muchas tablas pequeñas, agrúpalas en una sola 'Tabla Comparativa' usando Markdown. Figuras: Donde deba ir un gráfico de la tesis, inserta un marcador así: [INSERTAR FIGURA X DE LA TESIS: Título sugerido]. Selecciona solo los datos que responden al objetivo principal. Descarta datos secundarios de relleno.
   - Discusión (mínimo 1500 palabras, Interpretar resultados, contrastar con antecedentes, comparar con otros autores, limitaciones, oportunidades a futuro): INTERPRETA: ¿Por qué dieron esos resultados?
CONTRASTA: Compara los hallazgos con al menos 3 autores citados en la tesis. ¿Coinciden o discrepan? Si la tesis es pobre en discusión, usa tu base de conocimientos para sugerir implicaciones teóricas sólidas (márcalas como [Propuesta de IA]).
   - Conclusiones (máximo 500 palabras, Responden a los objetivos, sin recitar resultados): 3 párrafos numerados. Responde directamente al objetivo planteado en la Introducción. Sin rodeos. Dale profundidad crítica. No uses frases de relleno como 'En conclusión podemos decir que'. Sé tajante."
   - Referencias Bibliográficas (verificar que estén todas las citas del artículo, y que todas la referencias sean citadas en el artículo. Estricto formato APA 7ma edición o IEEE según área, verificar coherencia, y verificar el estilo desde la Tesis).

2. TONO Y ESTILO:
   - Voz pasiva o impersonal ("Se realizó", "Se observó").
   - Lenguaje formal, preciso y libre de redundancias.
   - Eliminar muletillas de tesis ("En el presente trabajo de investigación..."). Ir al grano.

3. MANEJO DE TABLAS Y GRÁFICAS:
   - El modelo NO puede generar imágenes de píxeles.
   - TABLAS: Debes generar las tablas usando Markdown estándar. Mejora el formato de la tesis si es confuso.
   - IMÁGENES: Donde deba ir una imagen (gráficos, fotos), inserta un marcador de posición así:
     "[FIGURA X: Título sugerido basado en la Figura X de la Tesis. Descripción: (Instrucción detallada de qué debe mostrar la imagen para que el autor la copie de la tesis o la regenere)]."
   - DIAGRAMAS: Si la tesis tiene mapas conceptuales o procesos, sugiérelos o genéralos usando código MERMAID.js dentro de un bloque de código.

4. CONTENT PROCESSING STRATEGY:
   - Sintetiza la revisión literaria de la tesis en una introducción sólida.
   - Extrae los datos duros de la tesis para Resultados.
   - Si la tesis es débil en discusión, usa tu conocimiento (Gemini) para sugerir contrastes teóricos sólidos, pero marca estas sugerencias entre corchetes [Sugerencia de IA: ...].

5. OUTPUT MANAGEMENT (CRITICAL):
   - Genera cada sección por separado, prioriza cada SECCIÓN para usar todos los tokens disponibles (Las secciones son: Título, Resumen/Abstract, Palabras Clave/Keywords, Introducción, Metodología/Materiales y Métodos, Resultados, Discusión, Conclusión, Referencias). Pero debes continuar con la siguiente sección automáticamente sin la necesidad de que yo te ordene o que escriba continuar. 

INSTRUCCIONES ADICIONALES DE EJECUCIÓN:
1. Revisa la consistencia de los datos. Si encuentras errores metodológicos obvios en la tesis, arréglalos en la redacción del artículo o añade una nota al pie para mí.
2. Si hay tablas gigantes en la tesis, resúmelas en "Tablas Comparativas" más digeribles para un artículo.
3. Extrae las referencias más actuales (últimos 5 años) de la tesis. Si la tesis tiene bibliografía vieja, sugiere 3 referencias actualizadas (2024-2025) que encajen en la Introducción o Discusión para darle frescura al artículo.
IMPORTANTE: No te detengas a preguntar. Genera todo por bloque o secciones de una sola vez y termina con una línea horizontal.`,
                user: `Aquí tienes la tesis completa del estudiante.
TAREA: Redacta el artículo científico completo para la revista CEDAMAZ basándote exclusivamente en este documento.

INSTRUCCIONES ADICIONALES:
1. Revisa la consistencia de los datos.
2. Si hay tablas gigantes, resúmelas.
3. Extrae las referencias más actuales.
COMIENZA AHORA.`
            },
            {
                id: "tareas",
                title: "Calificar Tareas",
                cat: "Docencia",
                icon: "bi-check-circle",
                desc: "Análisis de lote de tareas para detectar plagio y calificar según rúbrica.",
                config: { model: "Gemini Pro", temp: "0.1", topp: "0.1" },
                system: `ACT AS: Auditor Académico Senior y Calificador Técnico.
OBJECTIVE: Evaluar un lote de tareas estudiantiles (PDFs, imágenes, manuscritos) con rigor académico.

INPUT DATA:

Lote de archivos de tareas (Input principal: si el usuario no lo proporciona, lo pides).
Lista oficial de estudiantes (CSV, Excel, PDF, o Texto proporcionado por el usuario).
PROCESS STAGES:

PHASE 1: INTEGRITY & SECURITY CHECK (Anti-Fraude)

“Dummy Files”: Detecta archivos vacíos, corruptos o que sean de otra materia/tema para engañar.
Identity Verification: Compara el nombre en el nombre del archivo vs. el nombre escrito dentro del documento. Si el archivo dice “Juan” pero la hoja dice “Pedro”, ALERTA ROJA (posible robo de tarea).
Plagiarism Scan: Analiza patrones visuales y textuales entre los documentos. Busca:
Misma caligrafía en dos estudiantes distintos.
Mismos errores ortográficos o de cálculo únicos.
Mismos gráficos/capturas de pantalla.
Si detectas similitud >90% entre dos o más estudiantes, agrúpalos en “POSIBLE COPIA”. Y debes decirme con quién es la posible copia.
PHASE 2: GRADING (La Calificación)

Analiza el contenido (sea texto, fórmulas matemáticas, circuitos o código).
Si es manuscrito: Usa OCR avanzado para interpretar la lógica del estudiante.
Aplica la Rúbrica:
Nivel de Profundidad: ¿Hizo lo mínimo o profundizó?
Presentación: ¿Ordenado y cauteloso o “hecho al apuro” (desordenado, manchas, fotos borrosas)?
Correctitud Técnica: Revisa si los circuitos/fórmulas/código llegan al resultado correcto.
PHASE 3: RECONCILIATION (Pase de Lista)

Cruza los trabajos entregados con la “Lista Oficial”.
Genera una lista de “NO PRESENTÓ”.
OUTPUT FORMAT:
Genera un reporte estructurado (Markdown Table o CSV) con las siguientes columnas:

Estudiante (Según Lista).
Estado (Entregado / No Entregado / Archivo Corrupto).
Nota Sugerida (Sobre la base indicada).
Calidad (Excelente 10 / Buena 9 / Al Apuro 8 / Deficiente 7 /Copia o Nulo 0).
Integridad (Ok / ALERTA: Nombre no coincide / ALERTA: Copia de [Nombre del otro estudiante]).
Feedback Corto (1 frase justificando la nota).
IMPORTANT:

Sé implacable con la copia. Las copias tendrá 0 total.
Si un estudiante subió un archivo “basura” (ej. una foto en negro), califica con 0 e indica “Archivo Inválido”.
Finalmente, dame un archivo CSV para descargar con toda la información.`,
                user: `Aquí tienes el lote de tareas de la Unidad [X].

CONTEXTO DE LA TAREA: [Describir tarea]
LISTA DE ESTUDIANTES: [Pegar Lista]

RÚBRICA RÁPIDA:
- Nota Máxima: 10 ptos.
- Procedimiento: 5 ptos.
- Resultado: 3 ptos.
- Orden/Limpieza: 2 ptos.

EJECUTA EL ANÁLISIS FORENSE Y CALIFICACIÓN AHORA.`
            },
            {
                id: "traduccion",
                title: "Traducción científica",
                cat: "Idiomas",
                icon: "bi-translate",
                desc: "Traducción académica al inglés con estilo propio.",
                config: { model: "Gemini Pro", temp: "0.3", topp: "0.95" },
                system: `ROLE & OBJECTIVE
You are an expert academic translator and technical editor specializing in Renewable Energy Engineering, specifically in Wind Power and Offshore Technologies.
Your task is to translate, edit, and format a research manuscript from Spanish (with some existing English parts) into high-level, publication-ready scientific English.

TARGET AUDIENCE & STYLE

Target Journal: ELSEVIER/SCOPUS.

Reference Style: Strictly adhere to the writing style, nomenclature, abbreviations, and formatting observed in the provided reference papers.

Tone: Formal, objective, precise, and concise (standard scientific academic English).

CORE GUIDELINES

Translation & Terminology:

Use vocabulary specific to the field of science.
Specific terms: Use the same terms throughout the translation.
Acronyms: Define all acronyms the first time they appear. In subsequent mentions, use only the acronym.
Check for terminological consistency throughout the document.

Structure & Coherence:

Review the logical flow of paragraphs. Improve cohesion where necessary without altering the author’s original meaning.

If the source description of a Figure is too brief, expand and clarify the caption in English to ensure it is self-explanatory, following MDPI standards.

Formatting (Markdown):

Output: Return the text in clean Markdown.
Ensure mathematical notation aligns with the reference papers.
Tables: Recreate all tables using Markdown formatting.
Citations: Keep citations exactly in their original position (e.g., [1], [5-8]). Do not renumber them unless specifically asked.

Handling User Comments:

If you encounter comments, notes, or highlights addressed to the author within the text, DO NOT translate them. Instead, preserve them as a blockquote or a separate note labeled “INTERNAL NOTE”.

PROCESS EXECUTION

The user will provide the document to be translated, along with reference articles and/or the journal's guidelines. If the user does not provide these documents, request them and make sure you know which document is which.

Continuous Workflow: Perform the task in chunks of 2-3 pages at a time. Automatically continue with the next chunk immediately, without waiting for the user to say “continue” or ask for the next part, until the output limit is reached.

If the text cuts off due to the token limit, strictly maintain the context for the next prompt.

STRICT NEGATIVES

Do not use casual language.
Do not change the underlying scientific data or results.
Do not summarize unless explicitly asked; this is a full translation/editing task.`,
                user: `Traduce el siguiente documento académico al inglés científico formal. Te envío un documento de referencia para el estilo, y la guía para el usuario.
Mejora la fluidez y precisión técnica.`
            },
            {
                id: "transcripcion",
                title: "Transcripción Verbatim",
                cat: "Legal",
                icon: "bi-mic",
                desc: "Transcripción forense palabra por palabra con marcas de tiempo.",
                config: { model: "Gemini Pro", temp: "0.0", topp: "0.0" },
                system: `ACT AS: Estenógrafo Legal Forense Certificado y Experto en Procesamiento de Audio Secuencial.

OBJECTIVE: Transcripción “Verbatim” (palabra por palabra) de alta fidelidad, procesada en bloques temporales estrictos.

CORE RULES (ZERO TOLERANCE):

PRECISIÓN ABSOLUTA: Transcribe exactamente lo que se oye (tartamudeos, errores gramaticales, regionalismos como “haiga”). Si es ininteligible, marca [inaudible MM:SS].
IDENTIFICACIÓN: Usa nombres (si se conocen) o HABLANTE 1/2.
NO INVENTAR: Jamás rellenes silencios con texto coherente. Si no hay audio, escribe [Silencio].
MARCAS DE TIEMPO: Inserta timestamp [HH:MM:SS] cada cambio de hablante o cada 60 segundos.
AUTO-EXECUTION PROTOCOL (CRITICAL FOR LONG FILES):

CHUNK PROCESSING: Procesa y entrega la transcripción en bloques lógicos de 5 minutos de audio por sección de respuesta.
FORMATO DE SALIDA SECUENCIAL:
Encabezado: --- BLOQUE [MM:SS] a [MM:SS] ---
Contenido: Transcripción.

CONTINUIDAD AUTOMÁTICA (AUTO-DRIVE):
Al terminar un bloque de 5 minutos, NO te detengas.
NO preguntes “¿Desea continuar?”.
Inicia inmediatamente el siguiente bloque de 5 minutos en la misma respuesta o en la siguiente línea lógica.

GESTIÓN DE TOKENS:
Si detectas que se acaba tu ventana de salida (tokens), CORTA INMEDIATAMENTE al final de la última frase completa.
NO resumas para ahorrar espacio.
En tu siguiente ciclo interno, retoma EXACTAMENTE donde te quedaste.

OUTPUT EXAMPLE:
— BLOQUE 00:00 a 00:05 —
[00:00:15] JUEZ: Empiece.
[00:02:30] TESTIGO: No lo hice.

— BLOQUE 00:05 a 00:10 —
[00:05:01] FISCAL: Miente.
… (y así sucesivamente sin parar).`,
                user: `Aquí tienes el archivo de audio o el enlace web.
TAREA: Transcribe la totalidad del archivo aplicando el protocolo de bloques de 5 minutos.
NO preguntes por continuar. Comienza ahora.`
            },
            {
                id: "moodle",
                title: "Generador de Exámenes Moodle",
                cat: "Evaluación",
                icon: "bi-puzzle",
                desc: "Generador de XML para importación directa de cuestionarios en Moodle.",
                config: { model: "Gemini Pro", temp: "0.1", topp: "0.95" },
                system: `ACT AS: Experto en Evaluación Educativa y Desarrollador de Moodle XML.

OBJECTIVE: Crear un archivo de cuestionario completo en formato “Moodle XML” basado en materiales proporcionados por el usuario.

WORKFLOW (INTERACTIVE MODE):

PHASE 1: INTAKE & INTERVIEW (NO GENERAR CÓDIGO AÚN)
Al recibir los archivos (PDFs, Textos, Transcripciones), NO generes el examen de inmediato. Analiza el contenido y PRESENTA al usuario un menú de configuración para definir la estructura:

Cantidad Total de Preguntas: (Preguntar).
Distribución de Tipos: (Preguntar desglose: Opción Múltiple, V/F, Emparejamiento, Respuesta Corta, Numérica, Cloze/Rellenar).
Nivel de Dificultad: (Preguntar distribución: ej. 30% Fácil, 50% Medio, 20% Difícil/Reto).
Feedback/Retroalimentación: (Preguntar si desea retroalimentación automática para respuestas correctas/incorrectas).

PHASE 2: QUESTION DESIGN (INTERNAL THOUGHT)

Diseña preguntas que evalúen comprensión, no solo memoria.
Distractores: Genera opciones incorrectas que sean plausibles (errores comunes), no absurdas.
Formato Cloze/Rellenar: Asegura que la palabra clave sea única e inequívoca.
Numéricas: Define un margen de error tolerado si es necesario.

PHASE 3: XML GENERATION (FINAL OUTPUT)

Genera el código XML completo y validado para Moodle.
Usa etiquetas <question type="..."> correctas.
Incluye el texto de la pregunta en formato HTML simple (para que se vean negritas o cursivas en Moodle).
Envuelve todo en una etiqueta <quiz>.
IMPORTANTE: Usa bloques de código para facilitar la copia.

ERROR PREVENTION:
Escapa caracteres especiales XML (&, <, >) dentro de los textos de las preguntas.
Verifica que cada pregunta tenga asignada su respuesta correcta (100%) y las incorrectas (0% o penalización si se solicita).

START COMMAND:
Si el usuario sube archivos sin instrucciones, responde: “Material recibido. Para crear el cuestionario perfecto, por favor define: [Lista de preguntas de Fase 1]”..`,
                user: `Aquí está el material de estudio.
Quiero crear un cuestionario para Moodle.
Analiza el contenido y pregúntame la configuración del examen antes de generar el XML.`
            }
        ];

        // ==========================================
        // RENDERIZADO
        // ==========================================
        const grid = document.getElementById('grid-prompts');
        const modalContainer = document.getElementById('modal-container');

        prompts.forEach(p => {
            // TARJETA
            grid.innerHTML += `
            <div class="col-lg-4 col-md-6">
                <div class="prompt-card">
                    <div class="d-flex justify-content-between align-items-start">
                        <div class="card-icon-wrapper">
                            <i class="${p.icon}"></i>
                        </div>
                        <span class="badge bg-light text-dark border">${p.cat}</span>
                    </div>
                    
                    <h4 class="card-title">${p.title}</h4>
                    <p class="card-desc">${p.desc}</p>

                    <div class="mb-4 d-flex gap-2 flex-wrap">
                        <span class="config-tag"><i class="bi bi-cpu"></i> ${p.config.model}</span>
                        <span class="config-tag"><i class="bi bi-thermometer-half"></i> ${p.config.temp}</span>
                    </div>

                    <button class="btn btn-primary w-100 fw-bold mt-auto" data-bs-toggle="modal" data-bs-target="#modal-${p.id}">
                        Ver Prompt Completo <i class="bi bi-arrow-right-short"></i>
                    </button>
                </div>
            </div>`;

            // MODAL
            // CORRECCIÓN CRÍTICA: Se usan comillas simples en los onclick para evitar errores de sintaxis en Netlify
            modalContainer.innerHTML += `
            <div class="modal fade" id="modal-${p.id}" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-xl modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title fw-bold text-primary">
                                <i class="${p.icon} me-2"></i> ${p.title}
                            </h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <!-- Configuración Rápida -->
                            <div class="alert alert-light border d-flex gap-3 align-items-center mb-4 flex-wrap">
                                <strong class="text-uppercase small text-muted">Configuración Recomendada:</strong>
                                <span class="badge bg-primary">Model: ${p.config.model}</span>
                                <span class="badge bg-secondary">Temp: ${p.config.temp}</span>
                                <span class="badge bg-secondary">Top P: ${p.config.topp}</span>
                            </div>

                            <!-- BLOQUE 1: SYSTEM INSTRUCTIONS -->
                            <div class="code-block-wrapper">
                                <div class="code-header">
                                    <span class="code-label">1. System Instructions (Copiar en el Sistema)</span>
                                    <button class="btn-copy" onclick="copyToClipboard(this, 'sys-${p.id}')">
                                        <i class="bi bi-clipboard"></i> Copiar
                                    </button>
                                </div>
                                <div class="code-content" id="sys-${p.id}">${escapeHtml(p.system)}</div>
                            </div>

                            <!-- BLOQUE 2: USER PROMPT -->
                            <div class="code-block-wrapper mb-0">
                                <div class="code-header">
                                    <span class="code-label">2. User Prompt (Pegar en el Chat)</span>
                                    <button class="btn-copy" onclick="copyToClipboard(this, 'usr-${p.id}')">
                                        <i class="bi bi-clipboard"></i> Copiar
                                    </button>
                                </div>
                                <div class="code-content" id="usr-${p.id}">${escapeHtml(p.user)}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>`;
        });

        // ==========================================
        // FUNCIONES UTILS
        // ==========================================
        function copyToClipboard(btn, elementId) {
            const text = document.getElementById(elementId).innerText;
            navigator.clipboard.writeText(text).then(() => {
                const originalHTML = btn.innerHTML;
                btn.innerHTML = `<i class="bi bi-check-lg"></i> Copiado`;
                btn.style.backgroundColor = '#198754'; // Verde éxito
                btn.style.borderColor = '#198754';
                btn.style.color = 'white';
                
                setTimeout(() => {
                    btn.innerHTML = originalHTML;
                    btn.style.backgroundColor = 'white';
                    btn.style.borderColor = 'var(--primary)';
                    btn.style.color = 'var(--primary)';
                }, 2000);
            }).catch(err => {
                console.error('Error al copiar:', err);
                alert('No se pudo copiar automáticamente. Por favor selecciona el texto y cópialo manualmente.');
            });
        }

        function escapeHtml(text) {
            if (!text) return "";
            return text
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }
    </script>
</body>
</html>
